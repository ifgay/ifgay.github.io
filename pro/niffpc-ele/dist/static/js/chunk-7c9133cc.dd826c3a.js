(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c9133cc"],{"01b45":function(e,t,i){},"0aeb":function(e,t,i){"use strict";i("01b45")},a547:function(e,t,i){"use strict";i.r(t);var r,s,a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{width:"80%",margin:"0 auto"}},[i("el-dialog",{attrs:{title:"验证邮箱",visible:e.verifyDialogVisible,width:"50%"},on:{"update:visible":function(t){e.verifyDialogVisible=t}}},[i("p",[e._v("验证码已经发送到你的邮箱:"+e._s(e.form.account))]),i("br"),i("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入验证码"+e.second+"s"},model:{value:e.verifyCode,callback:function(t){e.verifyCode=t},expression:"verifyCode"}}),e._v("    "),i("el-button",{attrs:{type:"primary",loading:e.verifyCodeLoading},nativeOn:{click:function(t){return e.getVeiryRes.apply(null,arguments)}}},[e._v(" 验证")])],1),i("el-form",{ref:"formUsers",attrs:{model:e.form,"label-width":"80px",rules:e.rulesByUserForm}},[i("el-form-item",{attrs:{label:"头像选择"}},[i("div",{staticClass:"flex_start",staticStyle:{"flex-wrap":"wrap",width:"100%"}},e._l(5,(function(t){return i("img",{key:t,staticClass:"use_hd_pike large_hd",style:{border:e.$store.state.userInfo.user_hd==t?"2px var(--main) solid":"2px transparent solid"},attrs:{src:"./icon/hd/"+t+".svg"},on:{click:function(i){return e.hdPiker(t)}}})})),0)]),i("el-form-item",{staticStyle:{width:"400px"},attrs:{label:"你的名字",prop:"nikname"}},[i("el-input",{attrs:{type:"text"},model:{value:e.form.nikname,callback:function(t){e.$set(e.form,"nikname",t)},expression:"form.nikname"}})],1),i("el-form-item",{staticStyle:{width:"400px"},attrs:{label:"邮箱地址",prop:"account"}},[i("el-input",{attrs:{type:"email"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),i("el-form-item",{staticStyle:{width:"400px"},attrs:{label:"会员认证"}},[e.form.is_vip?i("span",{staticStyle:{color:"var(--main)"}},[e._v(" 恭喜!你已经是会员 ")]):e._e(),e.form.is_vip?e._e():i("span",[e._v(" 你还不是会员,累计充值1000蘑菇币得永久会员 ")])]),i("el-form-item",{attrs:{label:"验证邮箱"}},[e.form.is_truely?i("el-button",{staticStyle:{color:"var(--main)"},attrs:{disabled:""}},[i("i",{staticClass:"el-icon-check"}),e._v(" 已过验证 ")]):e._e(),e.form.is_truely?e._e():i("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(t){return e.verifyMailAddr.apply(null,arguments)}}},[i("i",{staticClass:"el-icon-key"}),e._v(" 点击验证")])],1),i("el-form-item",{attrs:{label:"蘑菇币"}},[i("span",{staticStyle:{color:"var(--main)"}},[i("i",{staticClass:"el-icon-coin"}),e._v(" "+e._s(e.form.coin)+" ")]),e._v("     "),i("el-button",{attrs:{type:"text",plain:"",size:"small"},nativeOn:{click:function(t){return e.$router.push({name:"pay",params:{active:"keypay"}})}}},[e._v(" 充值")]),i("el-button",{attrs:{type:"text",plain:"",size:"small"},nativeOn:{click:function(t){return e.$router.push({name:"pay",params:{active:"record"}})}}},[e._v(" 资金记录")])],1),i("el-form-item",{attrs:{label:""}},[i("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.saveUserInfo.apply(null,arguments)}}},[i("i",{staticClass:"el-icon-document"}),e._v(" 保存更改")])],1)],1)],1)},n=[],o=(i("99af"),i("e9c4"),{data:function(){return{rulesByUserForm:{nikname:[{required:!0,message:"请输入你的名字"}],account:[{required:!0,message:"请输入邮箱"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]},verifyCode:"",verifyDialogVisible:!1,verifyCodeLoading:!1,verifyId:0,second:120,form:{nikname:"",user_hd:1,account:"",is_truely:0,coin:0}}},methods:{saveUserInfo:function(){var e=this;this.$refs.formUsers.validate((function(t){t&&r.axios.post(e.host+"index/save_user_info",{nikname:e.form.nikname,account:e.form.account}).then((function(e){e.success&&(r.$message({message:"信息已保存",type:"success"}),r.updateUserInfo(r))}))}))},hdPiker:function(e){this.$store.state.userInfo.user_hd=e,this.axios.get(this.host+"index/set_user_hd?user_hd="+e)},verifyMailAddr:function(){this.second=120,clearInterval(s),s=setInterval((function(){r.second<0&&(r.second="",clearInterval(s)),r.second--}),1e3),this.verifyDialogVisible=!0,this.axios.get(this.host+"index/get_verify_id").then((function(e){e.success?r.verifyId=e.data.id:r.$message({message:e.mes,type:"error"})}))},getVeiryRes:function(){var e=this;this.verifyCodeLoading=!0,setTimeout((function(){r.axios.get(e.host+"index/verify_code_byid?code=".concat(e.verifyCode,"&id=").concat(r.verifyId)).then((function(t){e.verifyCodeLoading=!1,t.success?(r.verifyDialogVisible=!1,r.form.is_truely=1,r.$store.state.userInfo.is_truely=1):r.$message({message:t.mes,type:"error"})}))}),1e3)}},created:function(){r=this,this.form=JSON.parse(JSON.stringify(this.$store.state.userInfo))}}),l=o,c=(i("0aeb"),i("2877")),u=Object(c["a"])(l,a,n,!1,null,null,null);t["default"]=u.exports},e9c4:function(e,t,i){var r=i("23e7"),s=i("da84"),a=i("d066"),n=i("2ba4"),o=i("e330"),l=i("d039"),c=s.Array,u=a("JSON","stringify"),f=o(/./.exec),d=o("".charAt),m=o("".charCodeAt),p=o("".replace),v=o(1..toString),y=/[\uD800-\uDFFF]/g,h=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,g=function(e,t,i){var r=d(i,t-1),s=d(i,t+1);return f(h,e)&&!f(_,s)||f(_,e)&&!f(h,r)?"\\u"+v(m(e,0),16):e},b=l((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&r({target:"JSON",stat:!0,forced:b},{stringify:function(e,t,i){for(var r=0,s=arguments.length,a=c(s);r<s;r++)a[r]=arguments[r];var o=n(u,null,a);return"string"==typeof o?p(o,y,g):o}})}}]);
//# sourceMappingURL=chunk-7c9133cc.dd826c3a.js.map